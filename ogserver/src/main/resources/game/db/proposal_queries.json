{
  "queries": [
    {
      "id": "proposal.list.status",
      "type": "select",
      "table": "proposal",
      "query": "select id, crmId, version, quoteNo, quoteNoNew, title, status, salesName, designerName,designPartnerName, amount, projectName, pcity, createdOn, createdBy, updatedOn, updatedBy from proposal where status = ?",
      "params": ["status"]
    },

    {
      "id": "proposal.list.all",
      "type": "select",
      "table": "proposal",
      "query": "select 'W' as editFlag, id, crmId, version, quoteNo, quoteNoNew, title, status, salesName, designerName,designPartnerName, amount, projectName, pcity, createdOn, createdBy, updatedOn, updatedBy from proposal where status != 'deleted'",
      "params": []
    },

    {
      "id": "proposal.list.sales",
      "type": "select",
      "table": "proposal",
      "query": "select IF(salesEmail = ?, 'W', 'R') as editFlag, id, crmId, version, quoteNo, quoteNoNew, title, status, salesName, designerName,designPartnerName, amount, projectName, pcity, createdOn, createdBy, updatedOn, updatedBy from proposal where status != 'deleted'",
      "params": ["userId"]
    },

    {
      "id": "proposal.list.designer",
      "type": "select",
      "table": "proposal",
      "query": "select IF(designerEmail = ?, 'W', 'R') as editFlag, id, crmId, version, quoteNo, quoteNoNew, title, status, salesName, designerName,designPartnerName, amount, projectName, pcity, createdOn, createdBy, updatedOn, updatedBy from proposal where status != 'deleted'",
      "params": ["userId"]
    },

    {
      "id": "proposal.list.designpartner",
      "type": "select",
      "table": "proposal",
      "query": "select id, crmId, version, quoteNo, quoteNoNew, title, status, salesName, designerName, designPartnerName, amount, projectName, pcity, createdOn, createdBy, updatedOn, updatedBy from proposal where designPartnerEmail = ?",
      "params": ["designPartnerEmail"]
    },

    {
      "id": "proposal.list.crmid",
      "type": "select",
      "table": "proposal",
      "query": "select crmId from proposal where status != 'deleted'",
      "params": []
    },


    {
      "id": "proposal.updateversion",
      "type": "update",
      "table": "version_master",
      "query": "update version_master set title = ?,finalAmount = ? , status = ? , internalStatus = ?, remarks = ? , fromVersion = ? , discountAmount = ? , discountPercentage = ? , amount = ?, profit = ? , margin = ?, amountWotax = ?, manufactureAmount = ? where version = ? and proposalId = ? ",
      "params": ["title","finalAmount", "status", "internalStatus", "remarks","fromVersion" , "discountAmount" , "discountPercentage","amount","profit","margin", "amountWotax", "manufactureAmount","version","proposalId"]
    },

    {
      "id": "proposal.summary",
      "type": "select",
      "table": "proposal",
      "query": "select status, count(*) as proposal_count from proposal where status = 'deleted' group by status",
      "params": []
    },
    {
      "id": "proposal.header",
      "type": "select",
      "table": "proposal",
      "query": "select * from proposal where id = ?",
      "params": ["id"]
    },

    {
      "id": "proposal.create",
      "type": "insert",
      "table": "proposal",
      "query": "insert into proposal(status, title, version, createdBy, crmId) values ('Deleted', '', '0.1', ?, ?)",
      "params": ["createdBy","opportunityId"]
    },

    {
      "id": "proposal.create.crm",
      "type": "insert",
      "table": "proposal",
      "query": "insert into proposal(status, title, version, createdBy, crmId, cname, designerName, salesExecName,fullJson) values ('draft', ?, '1.0', ?, ?, ?, ?, ?, ?)",
      "params": ["title", "createdBy","opportunityId", "designerName", "salesExecName", "fullJson" ]
    },

    {
      "id": "proposal.select.updateprice",
      "type": "select",
      "table": "proposal",
      "query": "select id,status,version,crmId,pcity,quoteNo,title,quoteNoNew,priceDate from proposal where id = ?",
      "params": ["proposalId" ]
    },

    {
      "id": "proposal.version.select.updateprice",
      "type": "select",
      "table": "version_master",
      "query": "select * from version_master where proposalId in (select pr.id from proposal pr where pr.id not in (select vm.proposalId from version_master vm where vm.status = 'Confirmed'))",
      "params": [ ]
    },

    {
      "id": "proposal.version.getdraftversion",
      "type": "select",
      "table": "version_master",
      "query": "select * from version_master where proposalId = ?",
      "params": ["id"]
    },
     {
      "id": "proposal.version.products.select",
      "type": "select",
      "table": "proposal_product",
      "query": "select * from proposal_product where proposalId = ? and fromVersion = ? and active = 'A'",
      "params": [ "proposalId","version"],
       "jsonfields":["modules", "addons"]
    },

    {
      "id": "proposal.version.addons.select",
      "type": "select",
      "table": "proposal_addon",
      "query": "select * from proposal_addon where proposalId = ? and fromVersion = ?",
      "params": [ "proposalId","version"]
    },

    {
      "id": "proposal.version.price.update",
      "type": "update",
      "table": "proposal",
      "query": "update version_master set amount = ?, finalAmount = ?, discountAmount = ? where id = ?",
      "params": ["amount", "finalAmount", "discountAmount", "id" ]
    },
    {
      "id": "proposalproduct.updateprice.select",
      "type": "select",
      "table": "proposal",
      "query": "select * from proposal_product where active = 'A' ",
      "params": []
    },

    {
      "id": "proposaladdon.updateprice.select",
      "type": "select",
      "table": "proposal",
      "query": "select * from proposal_product where active = 'A' ",
      "params": []
    },

    {
      "id": "proposal.audit.insert",
      "type": "insert",
      "table": "audit_master",
      "query": "insert into audit_master(proposalId,version,priceDate,oldAmountProduct,newAmountProduct) values( ?, ?, ?, ?, ?) ",
      "params": ["proposalId","version","priceDate","oldAmountProduct","newAmountProduct"]
    },

    {
      "id": "proposal.audit.addon.update",
      "type": "update",
      "table": "audit_master",
      "query": "update audit_master set oldAmountAddon = ?, newAmountAddon = ? where proposalId = ? and version = ?",
      "params": ["oldAmountAddon","newAmountAddon","proposalId","version"]
    },

    {
      "id": "version.createdraft",
      "type": "insert",
      "table": "version_master",
      "query": "insert into version_master(version, fromVersion, proposalId, title, status, internalStatus, finalAmount, remarks,discountAmount,discountPercentage,amount,profit,margin,amountWotax,manufactureAmount) values (0.1, ?, ?, ?, 'Draft', 'Draft', 0.0, '',0.0,0.0,0.0,0.0,0.0,0.0,0.0)",
      "params": ["fromVersion", "proposalId", "title"]
    },

    {
      "id": "version.createPostSalesInitial",
      "type": "insert",
      "table": "version_master",
      "query": "insert into version_master(version, fromVersion, proposalId, title, status, internalStatus, finalAmount, remarks,discountAmount,discountPercentage,amount,profit,margin,amountWotax,manufactureAmount) values (1.0, ?, ?, ? , 'Draft', 'Draft', 0.0, 'Provide Option Description',0.0,0.0,0.0,0.0,0.0,0.0,0.0)",
      "params": ["fromVersion", "proposalId", "title"]
    },

    {
      "id": "proposal.update",
      "type": "update",
      "table": "proposal",
      "query": "update proposal set title = ?, crmId = ?, quoteNo = ?, quoteNoNew = ?, cname = ?, caddress1 = ?, caddress2 = ?, caddress3 = ?, ccity = ?, cemail = ?, cphone1 = ?, cphone2 = ?, projectName = ?, paddress1 = ?, paddress2 = ?, pcity = ?, salesName = ?, salesEmail = ?, salesPhone = ?,  designerName = ?, designerEmail = ?, designerPhone = ?, designPartnerName = ?, designPartnerEmail = ?, designPartnerPhone = ?, amount = ?, updatedBy = ?, status = ?, version = ?,maxDiscountPercentage = ? where id = ?",
      "params": ["title", "crmId", "quoteNo", "quoteNoNew", "cname", "caddress1", "caddress2", "caddress3", "ccity", "cemail", "cphone1", "cphone2", "projectName", "paddress1", "paddress2", "pcity", "salesName", "salesEmail", "salesPhone", "designerName", "designerEmail", "designerPhone", "designPartnerName", "designPartnerEmail", "designPartnerPhone", "amount", "updatedBy", "status", "version","maxDiscountPercentage" , "id"]
    },

    {
      "id": "proposal.update.onconfirm",
      "type": "update",
      "table": "proposal",
      "query": "update proposal set title = ?, crmId = ?, quoteNo = ?, quoteNoNew = ?, cname = ?, caddress1 = ?, caddress2 = ?, caddress3 = ?, ccity = ?, cemail = ?, cphone1 = ?, cphone2 = ?, projectName = ?, paddress1 = ?, paddress2 = ?, pcity = ?, salesName = ?, salesEmail = ?, salesPhone = ?,  designerName = ?, designerEmail = ?, designerPhone = ?, designPartnerName = ?, designPartnerEmail = ?, designPartnerPhone = ?, amount = ?, updatedBy = ?, status = ?, version = ?, maxDiscountPercentage=?, priceDate = ? where id = ?",
      "params": ["title", "crmId", "quoteNo", "quoteNoNew", "cname", "caddress1", "caddress2", "caddress3", "ccity", "cemail", "cphone1", "cphone2", "projectName", "paddress1", "paddress2", "pcity", "salesName", "salesEmail", "salesPhone", "designerName", "designerEmail", "designerPhone", "designPartnerName", "designPartnerEmail", "designPartnerPhone", "amount", "updatedBy", "status", "version","maxDiscountPercentage", "priceDate", "id"]
    },

    {
      "id": "proposal.folder.update",
      "type": "update",
      "table": "proposal",
      "query": "update proposal set folderPath = ? where id = ?",
      "params": ["folderPath", "id"]
    },

    {
      "id": "version.publish",
      "type": "update",
      "table": "proposal",
      "query": "update version_master set status = 'Published', internalStatus = 'Published' where version = ? and proposalId = ?",
      "params": ["version","proposalId"]
    },

    {
      "id": "version.confirm",
      "type": "update",
      "table": "proposal",
      "query": "update version_master set status = 'Confirmed', internalStatus = 'Confirmed', version = ?, fromVersion = ? where version = ? and proposalId = ?",
      "params": ["version", "fromVersion", "toVersion", "proposalId"]
    },

    {
      "id": "version.designsignoff",
      "type": "update",
      "table": "proposal",
      "query": "update version_master set status = 'DSO', internalStatus = 'DSO', version = ?, fromVersion = ? where version = ? and proposalId = ?",
      "params": ["version", "fromVersion", "toVersion", "proposalId"]
    },

    {
      "id": "version.productionsignoff",
      "type": "update",
      "table": "proposal",
      "query": "update version_master set status = 'PSO', internalStatus = 'Locked', version = ?, fromVersion = ? where version = ? and proposalId = ?",
      "params": ["version", "fromVersion", "toVersion", "proposalId"]
    },

    {
      "id": "version.createversion",
      "type": "insert",
      "table": "version_master",
      "query": "insert into version_master(version, fromVersion, proposalId, title, status, internalStatus, finalAmount, remarks,discountPercentage,discountAmount,amount) values (?, ?, ?, ?, ?, ?, ?, ? , ? , ? , ?)",
      "params": ["version","fromVersion","proposalId", "title","status","internalStatus","finalAmount","remarks","discountPercentage","discountAmount","amount"]
    },

    {
      "id": "version.copyversion",
      "type": "insert",
      "table": "version_master",
      "query": "insert into version_master(version, fromVersion, proposalId, title, status, internalStatus, finalAmount, remarks,discountPercentage,discountAmount,amount) values (?, ?, ?, ?, ?, ?, ?, ? , ? , ? , ?)",
      "params": ["version","fromVersion","toVersion", "discountAmount","discountPercentage"]
    },

    {
      "id": "version.lockallpresalesversions",
      "type": "update",
      "table": "version_master",
      "query": "update version_master set internalStatus = ? where version like '0.%' and proposalId = ?",
      "params": ["internalStatus","proposalId"]
    },

    {
      "id": "version.lockallpostsalesversions",
      "type": "update",
      "table": "version_master",
      "query": "update version_master set internalStatus = ? where version like '1.%' and proposalId = ?",
      "params": ["internalStatus","proposalId"]
    },

    {
      "id": "version.lockallversions",
      "type": "update",
      "table": "version_master",
      "query": "update version_master set internalStatus = ? where version like '2.%' and proposalId = ? ",
      "params": ["internalStatus","proposalId"]
    },

    {
      "id": "version.getlatestversion",
      "type": "select",
      "table": "version_master",
      "query": "select * from version_master where version=(select MAX(version) from version_master where proposalId = ?) and proposalId = ? ",
      "params": ["proposalId","proposalId"]
    },
    {
      "id": "version.getversiondetails",
      "type": "select",
      "table": "version_master",
      "query": "select * from version_master where proposalId = ? and version = ?",
      "params": ["proposalId","version"]
    },

    {
      "id": "proposal.version.presales",
      "type": "select",
      "table": "version_master",
      "query": "select * from version_master where version like '0.%' and proposalId = ?",
      "params": ["proposalId"]
    },

    {
      "id": "proposal.version.postsales",
      "type": "select",
      "table": "version_master",
      "query": "select * from version_master where version like '1.%' and proposalId = ?",
      "params": ["proposalId"]
    },

    {
      "id": "proposal.version.production",
      "type": "select",
      "table": "version_master",
      "query": "select * from version_master where version like '2.%' and proposalId = ?",
      "params": ["proposalId"]
    },


    {
      "id": "proposal.publish",
      "type": "update",
      "table": "proposal",
      "query": "update proposal set status = 'published' where id = ?",
      "params": ["id"]
    },

    {
      "id": "proposal.revise",
      "type": "update",
      "table": "proposal",
      "query": "update proposal set status = 'Draft' where id = ?",
      "params": ["id"]
    },
    {
      "id": "proposal.cancel",
      "type": "update",
      "table": "proposal",
      "query": "update proposal set status = 'cancelled' where id = ?",
      "params": ["id"]
    },
    {
      "id": "proposal.delete",
      "type": "update",
      "table": "proposal",
      "query": "update proposal set status = 'deleted' where id = ?",
      "params": ["id"]
    },

    {
      "id": "proposal.comment.insert",
      "type": "insert",
      "table": "proposal_comments",
      "query": "insert into proposal_comments (id, proposalid, comment, userid, username, createdon) values (?, ?, ?, ?, ?, ?)",
      "params": ["id", "proposalid", "comment", "userid", "username", "createdon"]
    },

    {
      "id": "proposal.comment.select",
      "type": "select",
      "table": "proposal_comments",
      "query": "select * from proposal_comments where proposalId = ?",
      "params": ["proposalId"]
    },

    {
      "id": "proposal.document.add",
      "type": "insert",
      "table": "proposal_documents",
      "query": "insert into proposal_documents (proposalId, title, fileName, attachmentType, uploadedBy) values (?, ?, ?, ?, ?)",
      "params": ["proposalId", "title", "fileName", "attachmentType", "uploadedBy"]
    },

    {
      "id": "proposal.document.remove",
      "type": "delete",
      "table": "proposal_documents",
      "query": "delete from proposal_documents where id = ?",
      "params": ["id"]
    },

    {
        "id":"proposal.id",
        "type":"select",
        "table":"proposal",
        "query":"SELECT id FROM proposal ORDER BY id DESC LIMIT 1",
        "params":[]

    },

    {
      "id": "proposal.document.select",
      "type": "select",
      "table": "proposal_documents",
      "query": "select * from proposal_documents where proposalId = ? and productId = 0",
      "params": ["proposalId"]
    },

    {
      "id": "product.document.add",
      "type": "insert",
      "table": "proposal_documents",
      "query": "insert into proposal_documents (proposalId, productId, title, fileName, attachmentType, uploadedBy) values (?, ?, ?, ?, ?, ?)",
      "params":["proposalId", "productId", "title", "fileName", "attachmentType", "uploadedBy"]
    },

    {
      "id": "product.document.select",
      "type": "select",
      "table": "proposal_documents",
      "query": "select * from proposal_documents where productId = ?",
      "params": ["productId"]
    },

    {
      "id": "product.document.remove",
      "type": "delete",
      "table": "proposal_documents",
      "query": "delete from proposal_documents where id = ?",
      "params": ["id"]
    },

    {
      "id": "proposal.version.addon.list",
      "type": "select",
      "table": "proposal_addon",
      "query": "select * from proposal_addon where proposalId = ? and fromVersion = ?",
      "params": ["proposalId","fromVersion"]
    },

    {
      "id": "proposal.addon.selected.detail",
      "type": "select",
      "table": "proposal_addon",
      "query": "select * from proposal_addon where proposalId = ? and id in (?)",
      "params": ["proposalId", "addonIds"]
    },

    {
      "id": "proposal.addon.remove",
      "type": "delete",
      "table": "proposal_addon",
      "query": "delete from proposal_addon where id = ?",
      "params": ["id"]
    },

    {
      "id": "proposal.addon.add",
      "type": "insert",
      "table": "proposal_addon",
      "query": "insert into proposal_addon(proposalId, fromVersion, seq, code, categoryCode, productTypeCode, productSubtypeCode, brandCode, product, catalogueCode, title, rate, quantity, amount, uom, updatedBy,remarks,profit,margin,sourcePrice,amountWOTax) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,? ,? ,? ,?)",
      "params":["proposalId", "fromVersion", "seq", "code", "categoryCode", "productTypeCode", "productSubtypeCode", "brandCode", "product", "catalogueCode", "title", "rate", "quantity", "amount", "uom", "updatedBy","remarks","profit","margin","sourcePrice","amountWOTax"]
    },

    {
      "id": "proposal.addon.list",
      "type": "select",
      "table": "proposal_addon",
      "query": "select *from proposal_addon where proposalId=? and fromVersion=?",
      "params":["proposalId", "fromVersion"]
    },

    {
      "id": "proposal.addon.update",
      "type": "update",
      "table": "proposal_addon",
      "query": "update proposal_addon set seq = ?,product= ?, code = ?, categoryCode = ?, productTypeCode = ?, brandCode = ?, catalogueCode = ?, title = ?, rate = ?, quantity = ?, amount = ?, uom = ?, updatedBy = ?,profit = ?,margin = ?,sourcePrice = ?,amountWOTax = ? , productSubtypeCode = ?, remarks =? where id = ?",
      "params": ["seq","product","code", "categoryCode", "productTypeCode", "brandCode", "catalogueCode", "title", "rate", "quantity", "amount", "uom", "updatedBy","profit","margin","sourcePrice","amountWOTax","productSubtypeCode","remarks", "id"]
    },

    {
      "id": "proposal.version.addon.update",
      "type": "update",
      "table": "proposal_addon",
      "query": "update proposal_addon set rate = ?, amount = ? where proposalId = ? and fromVersion = ?",
      "params": ["rate", "amount", "proposalId", "version"]
    },

    {
      "id": "module.select.all",
      "type": "select",
      "table": "module_master",
      "query": "select code, width, depth, height, description, imagePath, moduleType, moduleCategory, productCategory, material, unitType, accessoryPackDefault, remarks from module_master",
      "params": []
    },

    //Proposal product line item queries

    {
      "id": "proposal.product.create",
      "type": "insert",
      "table": "proposal_product",
      "query": "insert into proposal_product (proposalId,fromVersion, title, seq,manualSeq, type, roomCode, productCategoryCode, catalogueId, catalogueName, makeTypeCode, baseCarcassCode, wallCarcassCode, finishTypeCode, finishCode, designCode, dimension, quantity, amount, quoteFilePath, modules, addons, createdBy, costWoAccessories,profit,margin,amountWoTax,manufactureAmount,source) values (?, ?, ?, ?, ?,?, ?, ?, ?, ?,?, ?, ?, ?, ?,?, ?, ?, ?, ?, ?, ?, ?, ? ,? , ? , ?,?,?)",
      "params": ["proposalId","fromVersion", "title", "seq","manualSeq","type", "roomCode", "productCategoryCode", "catalogueId", "catalogueName", "makeTypeCode",
        "baseCarcassCode", "wallCarcassCode", "finishTypeCode", "finishCode", "designCode", "dimension", "quantity", "amount", "quoteFilePath",
        "modules", "addons", "createdBy", "costWoAccessories","profit","margin","amountWoTax","manufactureAmount","source"]
    },

    {
      "id": "proposal.product.updateVersionOnConfirm",
      "type": "update",
      "table": "proposal_product",
      "query": "update proposal_product set fromVersion = ? where proposalId = ? and fromVersion = ?",
      "params": ["version","proposalId","fromVersion"]
    },

    {
      "id": "proposal.product.createnew",
      "type": "insert",
      "table": "proposal_product",
      "query": "insert into proposal_product (proposalId,fromVersion, title, seq,manualSeq, type, roomCode, productCategoryCode, catalogueId, catalogueName, makeTypeCode, baseCarcassCode, wallCarcassCode, finishTypeCode, finishCode, designCode, dimension, quantity, amount, quoteFilePath, modules, addons, createdBy,profit,margin,manufactureAmount,amountWOTax,costWoAccessories,source) select proposalId, ?, title, seq, manualSeq,type, roomCode, productCategoryCode, catalogueId, catalogueName, makeTypeCode, baseCarcassCode, wallCarcassCode, finishTypeCode, finishCode, designCode, dimension, quantity, amount, quoteFilePath, modules, addons, createdBy,profit,margin,manufactureAmount,amountWOTax,costWoAccessories,source from proposal_product where proposalId= ? and fromVersion = ? and active = 'A'",
      "params": ["toVersion","proposalId","fromVersion"]
    },

    {
      "id": "proposal.addon.createnew",
      "type": "insert",
      "table": "proposal_addon",
      "query": "insert into proposal_addon (proposalId,fromVersion, title, seq, code, categoryCode, productTypeCode, productSubtypeCode, brandCode, product, catalogueCode, rate, quantity, amount, uom, updatedBy,remarks,profit,margin,sourcePrice,amountWOTax) select proposalId, ?, title, seq, code, categoryCode, productTypeCode, productSubtypeCode, brandCode, product, catalogueCode, rate, quantity, amount, uom, updatedBy,remarks,profit,margin,sourcePrice,amountWOTax from proposal_addon where proposalId= ? and fromVersion = ? ",
      "params": ["toVersion","proposalId","fromVersion"]
    },

    {
      "id": "proposal.product.createnewfromoldproposal",
      "type": "insert",
      "table": "proposal_product",
      "query": "insert into proposal_product (proposalId,fromVersion, title, seq,manualSeq, type, roomCode, productCategoryCode, catalogueId, catalogueName, makeTypeCode, baseCarcassCode, wallCarcassCode, finishTypeCode, finishCode, designCode, dimension, quantity, amount, quoteFilePath, modules, addons, createdBy, profit,margin,manufactureAmount,amountWOTax,costWoAccessories,source) select ?,?, title, seq,manualSeq, type, roomCode, productCategoryCode, catalogueId, catalogueName, makeTypeCode, baseCarcassCode, wallCarcassCode, finishTypeCode, finishCode, designCode, dimension, quantity, amount, quoteFilePath, modules, addons, createdBy,profit,margin,manufactureAmount,amountWOTax,costWoAccessories,source from proposal_product where proposalId = ? and fromVersion = ? and active = 'A'",
      "params": ["proposalId","version","oldProposalId","toVersion"]
    },

    {
      "id": "proposal.addon.createnewfromoldproposal",
      "type": "insert",
      "table": "proposal_addon",
      "query": "insert into proposal_addon (proposalId,fromVersion, title, seq, code, categoryCode, productTypeCode, productSubtypeCode, brandCode, product, catalogueCode, rate, quantity, amount, uom, updatedBy,remarks,profit,margin,sourcePrice,amountWOTax) select ?, ?, title, seq, code, categoryCode, productTypeCode, productSubtypeCode, brandCode, product, catalogueCode, rate, quantity, amount, uom, updatedBy,remarks,profit,margin,sourcePrice,amountWOTax from proposal_addon where proposalId = ? and fromVersion = ? ",
      "params": ["proposalId","version","oldProposalId","toVersion"]
    },

    {
      "id": "proposal.addon.updateVersionOnConfirm",
      "type": "update",
      "table": "proposal_addon",
      "query": "update proposal_addon set fromVersion = ? where proposalId = ? and fromVersion = ?",
      "params": ["version","proposalId","fromVersion"]
    },

    {
      "id": "proposal.product.update",
      "type": "update",
      "table": "proposal_product",
      "query": "update proposal_product set seq = ?, title = ?, roomCode = ?, productCategoryCode = ?, catalogueId = ?, catalogueName = ?, makeTypeCode = ?, baseCarcassCode = ?, wallCarcassCode = ?, finishTypeCode = ?, finishCode = ?, designCode = ?, dimension = ?, quantity = ?, amount = ?, quoteFilePath = ?, modules = ?, addons = ?, updatedBy = ?, costWoAccessories = ?,source = ? where fromVersion = ? and id = ?",
      "params": ["seq", "title", "roomCode", "productCategoryCode", "catalogueId", "catalogueName", "makeTypeCode", "baseCarcassCode", "wallCarcassCode", "finishTypeCode", "finishCode", "designCode", "dimension", "quantity", "amount", "quoteFilePath", "modules", "addons", "updatedBy", "costWoAccessories","source" ,"fromVersion", "id"]
    },

    {
      "id": "proposal.product.updatesequence",
      "type": "update",
      "table": "proposal_product",
      "query": "update proposal_product set seq=? where id=?",
      "params": ["seq","id"]
    },

    {
      "id": "proposal.product.delete",
      "type": "delete",
      "table": "proposal_product",
      "query": "update proposal_product set active = 'N' where id = ?",
      "params": ["id"]
    },

    {
      "id": "proposal.product.list",
      "type": "select",
      "table": "proposal_product",
      "query": "select id, fromVersion, title, seq,manualSeq, type, roomCode, productCategoryCode, catalogueId, catalogueName, makeTypeCode, baseCarcassCode, wallCarcassCode, finishTypeCode, finishCode, dimension, quantity, amount, quoteFilePath, createdOn, createdBy, updatedOn, updatedBy, costWoAccessories,source, profit , margin , amountWoTax,manufactureAmount from proposal_product where proposalId = ? and active = 'A'",
      "params": ["proposalId"]
    },
    {
      "id": "proposal.product.versionlist",
      "type": "select",
      "table": "proposal_product",
      "query": "select * from proposal_product where proposalId = ? and fromVersion = ? and active = 'A'",
      "params": ["proposalId","fromVersion"],
      "jsonfields":["modules", "addons"]
    },

    {
      "id": "proposal.versions.list",
      "type": "select",
      "table": "version_master",
      "query": "select * from version_master where proposalId = ? ",
      "params": ["proposalId"]
    },

    {
      "id": "proposal.product.all.detail",
      "type": "select",
      "table": "proposal_product",
      "query": "select * from proposal_product where proposalId = ? and fromVersion = ? and active = 'A' order by seq",
      "params": ["proposalId","fromVersion"],
      "jsonfields":["modules", "addons"]
    },

    {
      "id": "proposal.product.selected.detail",
      "type": "select",
      "table": "proposal_product",
      "query": "select * from proposal_product where proposalId = ? and active = 'A' and id in (?) order by seq",
      "params": ["proposalId", "productIds"],
      "jsonfields":["modules", "addons"]
    },

    {
      "id": "proposal.product.detail",
      "type": "select",
      "table": "proposal_product",
      "query": "select * from proposal_product where id = ? and fromVersion = ?",
      "params": ["id","fromVersion"],
      "jsonfields":["modules", "addons"]
    },

    {
      "id": "proposal.product.manualSeq",
      "type": "select",
      "table": "proposal_product",
      "query": "select * from proposal_product where proposalId = ?  and fromVersion = ?",
      "params": ["proposalId","fromVersion"],
      "jsonfields":["modules", "addons"]
    },
    {
      "id": "proposal.product.versionlist",
      "type": "select",
      "table": "proposal_product",
      "query": "select * from proposal_product where proposalId = ? and fromVersion = ? and active = 'A' order by seq",
      "params": ["proposalId","fromVersion"],
      "jsonfields":["modules", "addons"]
    },


    // Module costing queries
    {
      "id": "module.components.select",
      "type": "select",
      "table": "module_components",
      "query": "select * from module_components where modulecode = ?",
      "params": ["modulecode"]
    },
    {
      "id": "module.components.select.all",
      "type": "select",
      "table": "module_components",
      "query": "select * from module_components ",
      "params": []
    },
    {
      "id": "module.carcass.cost",
      "type": "select",
      "table": "module_components",
      "query": "select sum(cm.area * mr.rate * mc.quantity) as cost from module_components mc, carcass_master cm, mf_rate_master mr where mc.modulecode = ? and mc.comptype = 'C' and mc.compcode = cm.code and mr.type = 'C' and mr.mfcode = ? and mr.thickness = cm.thickness",
      "params": ["modulecode", "material"]
    },
    {
      "id": "module.shutter.cost",
      "type": "select",
      "table": "module_components",
      "query": "select sum(sfx.cuttingarea * mr.rate * mc.quantity) as cost from module_components mc, shutter_finish_xref sfx, mf_rate_master mr where mc.modulecode = ? and mc.comptype = 'S' and mc.compcode = sfx.shuttercode and mr.type = 'S' and mr.mfcode = ? and mr.thickness = sfx.cuttingt",
      "params": ["modulecode", "finishtype"]
    },
    {
      "id": "module.acshw.cost",
      "type": "select",
      "table": "module_components",
      "query": "select sum(ahm.price * mc.quantity) as cost from module_components mc, acs_hw_master ahm where mc.modulecode = ? and mc.comptype in ('A', 'H') and mc.compcode = ahm.code",
      "params": ["modulecode"]
    },
    {
      "id": "carcass.select.all",
      "type": "select",
      "table": "carcass_master",
      "query": "select * from carcass_master",
      "params": []
    },
    {
      "id": "shutter.select.all",
      "type": "select",
      "table": "shutter_master",
      "query": "select code, title, plength, breadth, thickness, edgebinding, quantity from shutter_master",
      "params": []
    },
    {
      "id": "panel.select.all",
      "type": "select",
      "table": "panel_master",
      "query": "select * from panel_master",
      "params": []
    },

    {
      "id": "ratecard.distinct.select.all",
      "type": "select",
      "table": "ratecard_master",
      "query": "select distinct code,type from ratecard_master",
      "params": []
    },

    {
      "id": "pricemaster.select.all",
      "type": "select",
      "table": "price_master",
      "query": "select rateType,rateId,city,price,sourcePrice,fromDate,toDate from price_master",
      "params": []
    },

    {
      "id": "accessory.select.all",
      "type": "select",
      "table": "acc_hw_master",
      "query": "select code, title, catalogCode, make, imagePath, msp as price, uom, category,ERPCode from acc_hw_master where type = 'A'",
      "params": []
    },
    {
      "id": "hardware.select.all",
      "type": "select",
      "table": "acc_hw_master",
      "query": "select code, title, catalogCode, make, imagePath, msp as price, uom,category,ERPCode from acc_hw_master where type = 'H'",
      "params": []
    },

    {
      "id": "module.accessories.select",
      "type": "select",
      "table": "acc_hw_master",
      "query": "select ahm.title, ahm.make, ahm.imagePath from module_components mc, acc_hw_master ahm where mc.modulecode = ? and ahm.makeType = ? and mc.comptype = 'A' and mc.compcode = ahm.code",
      "params": ["mgCode", "makeType"]
    },

    {
      "id": "lookup.codes",
      "type": "select",
      "table": "code_master",
      "query": "select code, title, additionalType from code_master where lookupType = ? order by title",
      "params": ["lookupType"]
    },
    {
      "id": "finish.lookup",
      "type": "select",
      "table": "finish_master",
      "query": "select finishMaterial as additionalType, finishCode as code, title from finish_master",
      "params": []
    },
    {
      "id": "finish.master.all",
      "type": "select",
      "table": "finish_master",
      "query": "select costCode, finishCode, finishType, finishMaterial, design, shutterMaterial, colorGroupCode, cuttingOffset, title, edgeBinding, doubleExposedCostCode from finish_master",
      "params": []
    },

    {
      "id": "addons.categories",
      "type": "select",
      "table": "addon_master",
      "query": "select distinct categoryCode, rateReadOnly from addon_master",
      "params": []
    },

    {
      "id": "addons.product.types",
      "type": "select",
      "table": "addon_master",
      "query": "select distinct productTypeCode from addon_master where categoryCode = ?",
      "params": ["categoryCode"]
    },

    {
      "id": "addons.product.subtypes",
      "type": "select",
      "table": "addon_master",
      "query": "select distinct productSubtypeCode from addon_master where categoryCode = ? and productTypeCode = ?",
      "params": ["categoryCode", "productTypeCode"]
    },
    {
      "id": "addons.brands",
      "type": "select",
      "table": "addon_master",
      "query": "select distinct brandCode from addon_master where categoryCode = ? and productSubtypeCode = ? and productTypeCode = ?",
      "params": ["categoryCode", "productSubtypeCode", "productTypeCode"]
    },

    {
      "id": "addons.products",
      "type": "select",
      "table": "addon_master",
      "query": "select categoryCode,catalogueCode,title,product,code,rate,imagePath,uom from addon_master where categoryCode = ? and productTypeCode = ? and productSubtypeCode = ? and brandCode = ?",
      "params": ["categoryCode","productTypeCode","productSubtypeCode", "brandCode"]
    },

    {
      "id": "finish.codes",
      "type": "select",
      "table": "finish_master",
      "query": "select finishMaterial, finishCode, colorGroupCode, title from finish_master",
      "params": []
    },

    {
      "id": "color.codes",
      "type": "select",
      "table": "color_master",
      "query": "select code as code, code as name, imagePath from color_master where colorGroupCode = ? or 'ALL' = ? order by code",
      "params": ["colorGroupCode", "colorGroupCode"]
    },

    {
      "id": "colors.select.all",
      "type": "select",
      "table": "color_master",
      "query": "select code as code, code as name, imagePath from color_master order by colorGroupCode, code",
      "params": []
    },

    {
      "id": "product.select.productid",
      "type": "select",
      "query": "select id, productId, productJson from product where productId = ?",
      "params": [
        "productId"
      ]
    },
    {
      "id": "product.select.subcategory",
      "type": "select",
      "query": "select productJson from product where subcategoryId = ? ORDER BY productId",
      "params": ["subcategory"]
    },

    {
      "id": "acc_pack_master.select",
      "type": "select",
      "query": "select code, title from acc_pack_master",
      "params": []
    },

    {
      "id": "acc_pack_components.select",
      "type": "select",
      "query": "select apcode, type, code, qty from acc_pack_components",
      "params": []
    },

    {
      "id": "module_acc_pack.select",
      "type": "select",
      "query": "select apcode, mgcode from module_acc_pack",
      "params": []
    },

    {
      "id": "acc_addon_map.select",
      "type": "select",
      "query": "select apcode, addoncode from accpack_addon_map",
      "params": []
    },

    {
      "id": "accpacks.selectymodule",
      "type": "select",
      "query": "select code, title from acc_pack_master where code in (select apcode from module_acc_pack where mgcode = ?)",
      "params": ["mgCode"]
    },

    {
      "id": "addons.selectbyaccpack",
      "type": "select",
      "query": "select code, title, imagePath from acc_hw_master where type = 'A' and code in (select addoncode from accpack_addon_map where apcode = ?)",
      "params": ["apCode"]
    },

    {
      "id": "module.selectModulesByCategory",
      "type": "select",
      "query": "select distinct code, description, width, depth, height, productCategory, moduleCategory, moduleType, imagePath, accessoryPackDefault, remarks, unitType from module_master where (productCategory='all' or productCategory = ?) and moduleCategory = ?",
      "params": ["productCategory","moduleCategory"]
    },


    //city related queries
    {
      "id": "city.selectMonthCount",
      "type": "select",
      "query": "select * from city_master where curmonth= ? and city = ? ",
      "params": ["curmonth","city"]
    },

    {
      "id": "city.newCityQuote",
      "type": "insert",
      "query": "insert into city_master(city,curmonth,proposalId,quoteNo,cityLocked) values (?, ?, ?, ?, 'Yes')",
      "params": ["city","curmonth","proposalId","quoteNo"]
    },
    {
      "id": "city.selectCity",
      "type": "select",
      "query": "select * from city_master where proposalId= ?",
      "params": ["proposalId"]
    },
    {
      "id": "city.checkCity",
      "type": "select",
      "query": "select cityLocked from city_master where proposalId= ?",
      "params": ["proposalId"]
    },
    {
      "id": "addons.addonPriceDetails",
      "type": "select",
      "table": "addon_master",
      "query": "select * from addon_master where code= ?",
      "params": ["code"]
    },

    //Workbench Related queries
    {
      "id": "workbench.code.codelookup",
      "type": "select",
      "table": "code_master",
      "query": "select * from code_master where lookupType = ?",
      "params": ["lookupType"]
    },
    {
      "id": "workbench.code.additionalcodelookup",
      "type": "select",
      "table": "code_master",
      "query": "select * from code_master where lookupType = ? and additionalType = ?",
      "params": ["lookupType", "additionalType"]
    },
    {
      "id": "workbench.designmaster.create",
      "type": "insert",
      "table": "design_master",
      "query": "insert into design_master (spaceName,webDisplayName,dFileLocation,primaryImageLocation,secondaryImageLocationJson,l0Location,moodBoardLocation,conceptNote, spaceType, spaceSize, propertyType, spaceDesignStyle, spaceColorStyle, furnitureJson, decorJson, wallTreatmentType, wallMaterial, wallFinishMaterial, wallFinishSwatch, ceilingType, ceilingMaterial, ceilingFinishMaterial, ceilingFinishSwatch, flooringMaterial, flooringFinishSwatch,lighting, designElement, userPersonaJson, designerDetailsJson, taggedProductJson, designerstory ) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ",
      "params": ["spaceName","webDisplayName","dFileLocation","primaryImageLocation","secondaryImageLocationJson","l0Location","moodBoardLocation","conceptNote","spaceType","spaceSize","propertyType","spaceDesignStyle","spaceColorStyle","furnitureJson","decorJson","wallTreatmentType","wallMaterial","wallFinishMaterial","wallFinishSwatch","ceilingType","ceilingMaterial","ceilingFinishMaterial","ceilingFinishSwatch","flooringMaterial","flooringFinishSwatch","lighting","designElement","userPersonaJson","designerDetailsJson","taggedProductJson", "designerstory"],
      "jsonfields":["secondaryImageLocationJson", "conceptNote","furnitureJson","decorJson","userPersonaJson","designerDetailsJson","taggedProductJson"]
    },
    {
      "id": "workbench.designmaster.select",
      "type": "select",
      "table": "design_master",
      "query": "select * from design_master",
      "params": [],
      "jsonfields":["secondaryImageLocationJson", "conceptNote","furnitureJson","decorJson","userPersonaJson","designerDetailsJson","taggedProductJson"]
    },
    {
      "id": "workbench.productmaster.create",
      "type": "insert",
      "table": "product_master",
      "query": "insert into product_master (productName, webDisplayName, dFileLocation, primaryImageLocation, secondaryImageLocationJson, category, subcategory, usp, designAttribute, spaceJSon, productStyle, otherDesignStyle, productColor, productCompatibilityColor, furnitureComponentMaterialJson, designerDetailsJson, sourcingScale, designerstory) values (?,?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) ",
      "params": ["productName","webDisplayName","dFileLocation","primaryImageLocation","secondaryImageLocationJson","category","subcategory","usp","designAttribute","spaceJSon","productStyle","otherDesignStyle","productColor","productCompatibilityColor","furnitureComponentMaterialJson","designerDetailsJson","sourcingScale","designerstory"],
      "jsonfields":["secondaryImageLocationJson", "spaceJSon","furnitureComponentMaterialJson","designerDetailsJson"]
    },

    {
      "id": "workbench.productmaster.select",
      "type": "select",
      "table": "product_master",
      "query": "select * from product_master",
      "params": [],
      "jsonfields":["secondaryImageLocationJson", "spaceJSon","furnitureComponentMaterialJson","designerDetailsJson"]
    },

    {
      "id": "workbench.materialcomponentmapping.select",
      "type": "select",
      "table": "material_component_mapping",
      "query": "select distinct mm.materialName from material_component_mapping mm INNER JOIN code_master cm ON mm.componentName = ? and cm.lookupType = 'component'",
      "params": ["componentName"]
    },

    {
      "id": "workbench.productmaster.id",
      "type": "select",
      "table": "product_master",
      "query": "select * from product_master where id = ? ",
      "params": ["id"]
    },
    {
      "id": "workbench.designmaster.id",
      "type": "select",
      "table": "design_master",
      "query": "select * from design_master where id = ? ",
      "params": ["id"]
    },
    {
      "id": "workbench.designmaster.fetch",
      "type": "select",
      "table": "design_master",
      "query": "select d.spaceName , d.primaryImageLocation , d.designerstory , t.productName , t.imagePath from design_master d INNER JOIN tagproduct_master t ON d.spaceName=t.spaceName where d.id=?; ",
      "params": ["id"]
    },
    {
      "id": "workbench.materialfinishmapping.select",
      "type": "select",
      "table": "material_finish_mapping",
      "query": "select * from material_finish_mapping where materialName = ? ",
      "params": ["materialName"]
    },

    //GaAME accessory related queries

    {
      "id": "workbench.materialcomponentmapping.select",
      "type": "select",
      "table": "material_component_mapping",
      "query": "select distinct mm.materialName from material_component_mapping mm INNER JOIN code_master cm ON mm.componentName = ? and cm.lookupType = 'component'",
      "params": ["componentName"]
    },

    {
      "id": "accessory.details",
      "type": "select",
      "table": "acc_pack_components",
      "query": "select apcode,type,code from acc_pack_components where apcode=? and type='A'",
      "params": ["apcode"]
    },
    {
      "id": "accessory.hwdetails",
      "type": "select",
      "table": "acc_pack_components",
      "query": "select apcode,type,code from acc_pack_components where apcode=? and type='H'",
      "params": ["apcode"]
    },
    {
      "id": "accessory.ratedetails",
      "type": "select",
      "table": "acc_hw_master",
      "query": "select id,type,code,title,make,category,imagePath,uom,cp,mrp,msp from acc_hw_master where code=?",
      "params": ["code"]
    },

    {
      "id": "ratefactor.details",
      "type": "select",
      "table": "ratecard_master",
      "query": "select rateCardID,code,type,thickness from ratecard_master where rateCardId=?",
      "params": ["rateCardId"]
    },
    {
      "id": "ratefactor.details",
      "type": "select",
      "table": "ratecard_master",
      "query": "select rateCardID,code,type,thickness from ratecard_master where rateCardId=?",
      "params": ["rateCardId"]
    },
    {
      "id": "module.hwdetails",
      "type": "select",
      "table": "module_components",
      "query": "select modulecode,comptype,compcode,quantity from module_components where modulecode=? and comptype='H' ",
      "params": ["modulecode"]
    },
    {
      "id": "transaction.insert",
      "type": "insert",
      "table": "transaction",
      "query": "insert into transaction (bankcode, txnid, net_amount_debit, amount, phone, productinfo, status, firstname, addedon, bank_ref_num, email, mihpayid, udf1, card_type, name_on_card, cardnum, fulldetails) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
      "params": [
        "bankcode",
        "txnid",
        "net_amount_debit",
        "amount",
        "phone",
        "productinfo",
        "status",
        "firstname",
        "addedon",
        "bank_ref_num",
        "email",
        "mihpayid",
        "udf1",
        "card_type",
        "name_on_card",
        "cardnum",
        "fulldetails"
      ]
    },

    {
      "id": "module.hwdetails",
      "type": "select",
      "table": "module_components",
      "query": "select modulecode,comptype,compcode,quantity from module_components where modulecode=? and comptype='H' ",
      "params": ["modulecode"]
    },
    {
      "id": "space.add.prodcutlib",
      "type": "insert",
      "table": "proposal_product",
      "query": "INSERT INTO proposal_product (`active`, `proposalId`, `title`, `seq`, `type`, `roomCode`, `productCategoryCode`, `catalogueId`, `catalogueName`, `makeTypeCode`, `baseCarcassCode`, `wallCarcassCode`, `finishTypeCode`, `finishCode`, `designCode`, `dimension`, `quantity`, `amount`, `quoteFilePath`, `modules`, `addons`, `createdOn`, `createdBy`, `updatedOn`, `updatedBy`, `touchtime`, `costWoAccessories`, `fromVersion`, `profit`, `margin`, `amountWoTax`, `manufactureAmount`, `manualSeq`, `source`, `spaceName`, `subSpaceName`, description, imageUrl) (SELECT 'Y', ?, `title`, ?, `type`, `roomCode`, `productCategoryCode`, `catalogueId`, `catalogueName`, `makeTypeCode`, `baseCarcassCode`, `wallCarcassCode`, `finishTypeCode`, `finishCode`, `designCode`, `dimension`, 1 as `quantity`, `amount`, `quoteFilePath`, `modules`, `addons`, `createdOn`, ?, `updatedOn`, ?, `touchtime`, `costWoAccessories`, ? as `fromVersion`, 0.0 as `profit`, 0.0 as `margin`, 0.0 as `amountWoTax`, 0.0 as `manufactureAmount`, 0 as `manualSeq`, `source`, ? as spaceName, ? as subSpaceName, productDescription, imageUrl FROM product_library WHERE title = ? limit 1)",
      "params": ["proposalId", "seq", "createdBy", "updatedBy", "fromVersion", "spaceName", "subSpaceName", "title"]
    },
    {
      "id": "space.add.catalogue",
      "type": "insert",
      "table": "proposal_product",
      "query": "insert into proposal_product (`active`, `proposalId`, `title`, `seq`, `type`, `roomCode`, `productCategoryCode`, `catalogueId`, `catalogueName`, `makeTypeCode`, `baseCarcassCode`, `wallCarcassCode`, `finishTypeCode`, `finishCode`, `designCode`, `dimension`, `quantity`, `amount`, `quoteFilePath`, `modules`, `addons`, `createdOn`, `createdBy`, `updatedOn`, `updatedBy`, `touchtime`, `costWoAccessories`, `fromVersion`, `profit`, `margin`, `amountWoTax`, `manufactureAmount`, `manualSeq`, `source`, spaceName, subSpaceName, description, imageUrl ) select 'Y', ? as proposalId, `name` as title, ? as seq, 'CATALOGUE' as `type`, JSON_UNQUOTE(JSON_EXTRACT(productJson, '$.categoryId')) as roomCode, JSON_UNQUOTE(JSON_EXTRACT(productJson, '$.subcategoryId')) as productCategoryCode, productId as catalogueId, '' as catalogueName,'' as makeTypeCode,  JSON_UNQUOTE(JSON_EXTRACT(productJson, '$.defaultMaterial')) as baseCarcassCode, '' as wallCarcassCode, '' as finishTypeCode, JSON_UNQUOTE(JSON_EXTRACT(productJson, '$.defaultFinish')) as finishCode,'' as designCode, '' as `dimension`, 1 as quantity, JSON_UNQUOTE(JSON_EXTRACT(productJson, '$.defaultPrice')) as amount, '' as quoteFilePath, '' as modules, '' as addons, now(), ? as createdBy, now(),  ? as updatedBy, now(), 0 as costWoAccessories, ? as fromVersion,  0 as profit, 0 as `margin`, 0 as `amountWoTax`, 0 as `manufactureAmount`, 0 as manualSeq, '' as source, ?, ?, description, JSON_UNQUOTE(JSON_EXTRACT(productShortJson, '$.image')) as imgUrl from product where productId = ?",
      "params": ["proposalId", "seq", "createdBy", "updatedBy", "fromVersion", "spaceName", "subSpaceName", "productId"]
    },
    {
      "id": "space.add.addon",
      "type": "insert",
      "table": "proposal_addon",
      "query": "INSERT INTO `proposal_addon` (`seq`, `proposalId`, `fromVersion`, `code`, `categoryCode`, `productTypeCode`, `productSubtypeCode`, `product`, `brandCode`, `catalogueCode`, `title`, `rate`, `quantity`, `amount`, `uom`, `updatedBy`, `touchtime`, `profit`, `margin`, `remarks`, `sourcePrice`, `amountWOTax`, spaceName, subSpaceName, description, imageUrl) select ? as seq, ? as `proposalId`, ? as `fromVersion`, `code`, `categoryCode`, `productTypeCode`, `productSubtypeCode`,  `product`, `brandCode`, `catalogueCode`, `title`, get_addon_price(?, ?) as rate, ? as quantity, 0.0 as amount, `uom`, ?,now(), 0 as `profit`, 0 as margin, '' as remarks, 0 as sourcePrice, 0.0 as amountWOTax, ?, ?, title as description, imagePath as imageUrl   from addon_master where code = ?",
      "params": ["seq", "proposalId", "fromVersion", "rateId", "priceDate", "quantity", "updatedBy", "spaceName", "subSpaceName", "code"]
    },
    {
      "id": "space.update.addon",
      "type": "update",
      "table": "proposal_addon",
      "query": "update `proposal_addon` set quantity = ?, updatedBy = ? where id = ?",
      "params": ["quantity", "updatedBy", "id"]
    },
    {
      "id": "space.delete.product",
      "type": "update",
      "table": "proposal_product",
      "query": "update proposal_product set active = 'N' where id = ?",
      "params": ["id"]
    },
    {
      "id": "space.delete.addon",
      "type": "update",
      "table": "proposal_addon",
      "query": "update proposal_addon set active = 'N' where id = ?",
      "params": ["id"]
    },
    {
      "id": "space.select.product",
      "type": "update",
      "table": "proposal_product",
      "query": "update proposal_addon set active = 'N' where id = ?",
      "params": ["id"]
    },
    {
      "id": "space.delete.product",
      "type": "update",
      "table": "proposal_product",
      "query": "update proposal_product set active = 'N' where proposalId = ? and fromVersion = ? and spaceName = ?",
      "params": ["proposalId", "fromVersion", "spaceName"]
    },
    {
      "id": "space.delete.addon",
      "type": "update",
      "table": "proposal_addon",
      "query": "update proposal_addon set active = 'N' where proposalId = ? and fromVersion = ? and spaceName = ?",
      "params": ["proposalId", "fromVersion", "spaceName"]
    },
    {
      "id": "spaces.data",
      "type": "select",
      "table": "proposal_product",
      "query": "select pp.id, pp.title, pp.description, pp.`type`, pp.imageUrl, pp.proposalId, pp.fromVersion from proposal_product pp union select pa.id, pa.title, pa.description, pa.categoryCode as type, pa.imageUrl, pa.proposalId, pa.fromVersion from proposal_addon pa where proposalId = ? and fromVersion = ?",
      "params": ["proposalId", "fromVersion"]
    }
  ]
}
