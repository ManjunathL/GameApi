<%= console.log("@@@@@@@@@@@@@@@@@@@@@@@ userHomePreferencesDtls @@@@@@@@@@@@@@@@@@@@@@@@@") %>
<%= console.log(userHomePreferencesDtls) %>
<%= console.log("@@@@@@@@@@@@@@@@@@@@@@@ userFamilyPreferencesDtls @@@@@@@@@@@@@@@@@@@@@@@@@") %>
<%= console.log(userFamilyPreferencesDtls) %>
<%= console.log("@@@@@@@@@@@@@@@@@@@@@@@ userMemebersPreferencesDtls @@@@@@@@@@@@@@@@@@@@@@@@@") %>
<%= console.log(userMemebersPreferencesDtls) %>
<style>
	figure {
    display: inline-block;
    margin: 20px; /* adjust as needed */
	}
	figure img {
    vertical-align: top;
	}
	figure figcaption {
    text-align: center;
	}
	.img-circle {
    border-radius: 15px;
	}
	.slidecontainer {
    width: 100%;
}
.img-responsive {
    display: block;
    height: auto;
    max-width: 100%;
}
.slider {
    -webkit-appearance: none;
    width: 100%;
    height: 15px;
    border-radius: 5px;
    background: #d3d3d3;
    outline: none;
    opacity: 0.7;
    -webkit-transition: .2s;
    transition: opacity .2s;
}

.slider:hover {
    opacity: 1;
}

.slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
	margin-bottom:45px;
    width: 30px;
    height: 44px;
    border: 0;
    background: url('img/bal.png');
	background-repeat:none;
    cursor: pointer;
    position:relative;
}

.slider::-moz-range-thumb {
    width: 23px;
    height: 24px;
    border: 0;
    background: url('img/bal.png');
    cursor: pointer;
}
.wrap {
float: left;
padding-top: 0;
padding-left: 0;
margin: 20px;
box-shadow: 1px 1px 12px #000;
}
.btn-circle.btn-xl {
    width: 70px;
    height: 70px;
    padding: 10px 16px;
    border-radius: 35px;
    font-size: 24px;
    line-height: 1.33;
}

.btn-circle {
    width: 40px;
    height: 40px;
    padding: 6px 0px;
    border-radius: 50px;
    text-align: center;
    font-size: 12px;
    line-height: 1.42857;
}
.button4 {border-radius: 12px;}
.heading-style{
margin-bottom:30px;
}
heading-style-top{
margin-top:30px;
}
.gender-style{
margin-top: 25px;
}
.novdiv{
    left: 18.5%;
    position: absolute;
    top: -32px;
}
    /*.img-circle:hover,
    .img-circle:active,
    .img-circle:focus{
        background-color:#634e42;
        cursor:pointer;
    }
    .btn-circle:hover, .btn-circle:active, .btn-circle:focus {
        background-color: #634e42;
        cursor: pointer;
    }*/
    .Usage:hover, .Usage:active, .Usage:focus {
        background-color: #634e42 !important;
        color:#fff;
        cursor: pointer;
    }
    .Size:hover,
    .Size:active,
    .Size:focus {
        background-color: #634e42 !important;
        color:#fff;
        cursor: pointer;
    }
    .Room:hover,
    .Room:active,
    .Room:focus{
        background-color: #634e42 !important;
        color:#fff;
        cursor: pointer;
    }
    .Dwelling type:hover, .Dwelling type:active, .Dwelling type:focus {
        background-color: #634e42 !important;
        color:#fff;
        cursor: pointer;
    }
    .Interiors Budget:hover, .Interiors Budget:active, .Interiors Budget:focus {
        background-color: #634e42 !important;
        color:#fff;
        cursor: pointer;
    }

    .cirbtn:hover, .cirbtn:active, .cirbtn:focus {
        background-color: #634e42 !important;
        color:#fff;
        cursor: pointer;
    }
</style>

<section class="main-conceptboard-sec bg-light-gray pb40">

<div class="tab container">
    <h2 style="font-weight: 600;">Preferences</h2>

    <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
        <li><a data-toggle="tab" href="#family">Family</a></li>
        <li><a data-toggle="tab" href="#members">Members</a></li>
    </ul>

    <div class="tab-content userPref">
        <div id="home" class="tab-pane fade in active">
            <% if(typeof(userHomePreferencesDtls) !== 'undefined'){ %>
                <% _.each(userHomePreferencesDtls[0].userQues, function(userQuesdtl, j){ %>
                <div class="col-md-12">
                    <h2><%= userQuesdtl.questionnaire.questionDetails.name %></h2>

                    <% _.each(userQuesdtl.questionnaire.options, function(userOptsdtl, j){ %>
                    <div class="form-group <% if(userQuesdtl.questionnaire.questionDetails.name == 'Room'){ %> col-xs-2 <% }else{ %> col-xs-3 <% } %>">
                        <figure>
                            <% var idd = userOptsdtl.quesOptionid; %>
                            <% if(typeof(userOptsdtl.imageURL) !== 'undefined' && userOptsdtl.imageURL != ""){ %>
                                <img src="<%= userOptsdtl.imageURL %>" alt="<%= userOptsdtl.name %>"  id="<%= idd %>" class="wrap img-circle userques <%= userQuesdtl.questionnaire.questionDetails.name %>" data-element="<%= userQuesdtl.questionnaire.questionDetails.quesId %>" data-element1="<%= userOptsdtl.quesOptionid %>" data-element2="<%= userQuesdtl.questionnaire.questionDetails.name %>"   width="100px" height="100px">
                                <figcaption><%= userOptsdtl.name %></figcaption>
                            <% }else{ %>
                                <% if((userQuesdtl.questionnaire.questionDetails.name == "Interiors Budget") || (userQuesdtl.questionnaire.questionDetails.name == "Size")){ %>
                                <div class="form-group">
                                    <button type="button" id="<%= idd %>" class="btn btn-light button4 btn-labeltxt userques <%= userQuesdtl.questionnaire.questionDetails.name %>" data-element="<%= userQuesdtl.questionnaire.questionDetails.quesId %>" data-element1="<%= userOptsdtl.quesOptionid %>" data-element2="<%= userQuesdtl.questionnaire.questionDetails.name %>" style="width: 90px;"><%= userOptsdtl.name %></button>
                                </div>
                                <% }else{ %>
                                    <div class="form-group">
                                        <button type="button" id="<%= idd %>" class="btn btn-light btn-circle btn-labeltxt  userques <%= userQuesdtl.questionnaire.questionDetails.name %>" data-element="<%= userQuesdtl.questionnaire.questionDetails.quesId %>" data-element1="<%= userOptsdtl.quesOptionid %>" data-element2="<%= userQuesdtl.questionnaire.questionDetails.name %>" ><%= userOptsdtl.name %></button>
                                    </div>
                                <% } %>
                            <% } %>
                        </figure>
                    </div>
                    <% }); %>

                </div>
                <% }); %>
        <div class="saveHome">
            <input type="submit" id="save_homeId" class="btn addcboard-btn" value="Save">
        </div>
            <% } %>
        <div class="clearfix"></div>
        </div>
        <div id="family" class="tab-pane">
                <% if(typeof(userFamilyPreferencesDtls) !== 'undefined'){ %>
                <% _.each(userFamilyPreferencesDtls[0].userQues, function(userQuesdtl, j){ %>

                    <% if(userQuesdtl.questionnaire.questionDetails.name == "We would like our home to be"){ %>
                            <div class="col-md-12">
                                <h2><%= userQuesdtl.questionnaire.questionDetails.name %></h2>
                                <% _.each(userQuesdtl.questionnaire.options, function(userOptsdtl, j){ %>
                                <% if(typeof(userOptsdtl.imageURL) !== 'undefined' && userOptsdtl.imageURL != ""){ %>
                                <div class="form-group col-md-4">
                                    <figure>
                                        <img  id="<%= userOptsdtl.quesOptionid %>" src="<%= userOptsdtl.imageURL %>" alt="<%= userOptsdtl.name %>" data-element="<%= userQuesdtl.questionnaire.questionDetails.quesId %>" data-element1="<%= userOptsdtl.quesOptionid %>" data-element2="<%= userQuesdtl.questionnaire.questionDetails.name %>" class="wrap img-circle multiselectFamily clickAction userquesfamily"  width="300px" height="250px">
                                       <i id="idIcon<%= userOptsdtl.quesOptionid %>" class="fa fa-check-circle" aria-hidden="true" style="font-size: 28px; color: #ec5136;position:  absolute; right: 11px;top: 47px;display:none;"></i>
                                       <figcaption><%= userOptsdtl.name %></figcaption>
                                    </figure>
                                </div>




                                <% }else{ %>
                                <div class="form-group col-xs-2">
                                    <figure>
                                        <div class="form-group">
                                          <button class="btn btn-light btn-circle btn-labeltxt userquesfamily" data-element="<%= userQuesdtl.questionnaire.questionDetails.quesId %>" data-element1="<%= userOptsdtl.quesOptionid %>" data-element2="<%= userQuesdtl.questionnaire.questionDetails.name %>"><%= userOptsdtl.name %></button>
                                        </div>
                                    </figure>
                                </div>
                                <% } %>

                                <% }); %>
                            </div>
                            <div class="clearfix"></div>
                    <% }else{ %>

                    <div <% if(userQuesdtl.questionnaire.questionDetails.name == "We love to" || userQuesdtl.questionnaire.questionDetails.name == "We usually do"){ %> class="col-md-12" <% }else{ %> class="col-md-6" <% } %> >
                        <h2><%= userQuesdtl.questionnaire.questionDetails.name %></h2>
                        <% _.each(userQuesdtl.questionnaire.options, function(userOptsdtl, j){ %>

                                <% if(typeof(userOptsdtl.imageURL) !== 'undefined' && userOptsdtl.imageURL != ""){ %>
                                <div class="form-group col-md-2">
                                    <figure> <span  id="IconImage<%= userOptsdtl.quesOptionid %>"   class="btn btn-labeltxt clickAction userquesfamily multiselectFam" style="padding: 0px 0px 0px 0px;" data-element="<%= userQuesdtl.questionnaire.questionDetails.quesId %>" data-element1="<%= userOptsdtl.quesOptionid %>" data-element2="<%= userQuesdtl.questionnaire.questionDetails.name %>">
                                        <img src="<%= userOptsdtl.imageURL %>" alt="<%= userOptsdtl.name %>" class="wrap img-circle "  width="80px" height="80px"></span>
                                        <figcaption><%= userOptsdtl.name %></figcaption>
                                    </figure>
                                </div>
                                <% }else{ %>
                                <div class="form-group col-xs-2">
                                    <figure>
                                        <div class="form-group ">
                                            <button id="butt<%= userOptsdtl.quesOptionid %>" name="<%= userOptsdtl.name %>" class="btn btn-light btn-circle btn-labeltxt multibutton userquesfamily cirbtn" <% if(typeof(userQuesdtl.userSelectedOption[0].optionId) !== 'undefined' && userQuesdtl.userSelectedOption[0].optionId == userOptsdtl.quesOptionid){ %> style="background-color:#634e42;color:#fff;" <% } %> data-element="<%= userQuesdtl.questionnaire.questionDetails.quesId %>" data-element1="<%= userOptsdtl.quesOptionid %>" data-element2="<%= userQuesdtl.questionnaire.questionDetails.name %>"><%= userOptsdtl.name %></button>
                                        </div>
                                    </figure>
                                </div>
                                <% } %>

                        <% }); %>
                    </div>

    <% if(userQuesdtl.questionnaire.questionDetails.name == "We love to" || userQuesdtl.questionnaire.questionDetails.name == "We usually do"){ %> <div class="clearfix"></div> <% } %>
                    <% } %>
                <% }); %>
        <div class="saveHome">
            <input type="submit" id="save_familyId" class="btn addcboard-btn" value="Save">
        </div>
            <% } %>
        </div>
        <div id="members" class="tab-pane">
            <div class="member-panel">
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputname">New Member</label>
                    <input type="Name" class="form-control" id="inputname" placeholder="Name">
                </div>
                <div class="form-group col-md-6">
                    <label for="inputproject">Age Group</label>
                    <select id="inputproject" class="form-control">
                        <option selected>Choose...</option>
                        <option>...</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-check form-check-inline form-group col-md-12 gender-style">
                    <label class="form-check-label">Gender</label>
                    <input class="form-check-input" type="radio" id="inlineradio1" value="option1">
                    <label class="form-check-label" for="inlineradio1">Male</label>
                    <input class="form-check-input" type="radio" id="inlineradio2" value="option1">
                    <label class="form-check-label" for="inlineradio1">Female</label>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-2">
                    <label class="form-check-label">Work</label>
                </div>
                <div class="form-group col-md-5">
                    <label for="inputproject">Category</label>
                    <select id="inputproject1" class="form-control">
                        <option selected>Choose...</option>
                        <option>...</option>
                    </select>
                </div>
                <div class="form-group col-md-5">
                    <label for="inputproject">Occupation</label>
                    <select id="inputproject2" class="form-control">
                        <option selected>Choose...</option>
                        <option>...</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-2">
                    <label class="form-check-label">Hobby 1</label>
                </div>
                <div class="form-group col-md-5">
                    <label for="inputproject">Category</label>
                    <select id="inputproject3" class="form-control">
                        <option selected>Choose...</option>
                        <option>...</option>
                    </select>
                </div>
                <div class="form-group col-md-5">
                    <label for="inputproject">Hobbies</label>
                    <select id="inputproject4" class="form-control">
                        <option selected>Choose...</option>
                        <option>...</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-2">
                    <label class="form-check-label">Hobby 2</label>
                </div>
                <div class="form-group col-md-5">
                    <label for="inputproject">Category</label>
                    <select id="inputproject5" class="form-control">
                        <option selected>Choose...</option>
                        <option>...</option>
                    </select>
                </div>
                <div class="form-group col-md-5">
                    <label for="inputproject">Hobbies</label>
                    <select id="inputproject6" class="form-control">
                        <option selected>Choose...</option>
                        <option>...</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-2">
                    <label class="form-check-label">Hobby 3</label>
                </div>
                <div class="form-group col-md-5">
                    <label for="inputproject">Category</label>
                    <select id="inputproject7" class="form-control">
                        <option selected>Choose...</option>
                        <option>...</option>
                    </select>
                </div>
                <div class="form-group col-md-5">
                    <label for="inputproject">Hobbies</label>
                    <select id="inputproject8" class="form-control">
                        <option selected>Choose...</option>
                        <option>...</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-12">
                    <button type="button" class="btn btn-default btn-sm">
                        <span class="glyphicon glyphicon glyphicon-floppy-disk"></span> Save
                    </button>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-12">
                    <h3>Add Family Member  <span class="glyphicon glyphicon-plus"></span></h3>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-12">
                    <button type="button" class="btn btn-primary btn-block">All Done</button>
                </div>
            </div>
            </div>
        </div>
</div>

</div>

</section>
<script type="text/javascript">
var arr = new Array();
var ourhomearr = new Array();

var i=0;
$('.multiselectFamily').click(function (e) {

    var currentTarget = $(e.currentTarget);
    var familyoptId = currentTarget.attr('id');

    var Optionid = currentTarget.data('element');
    var quesOptionid = currentTarget.data('element1');
    var quesName = currentTarget.data('element2');

        if($.inArray(familyoptId, arr) != '-1') {
            $("#"+familyoptId).css("border","0px solid black ");
            $("#idIcon"+familyoptId).css("display", "none");
            var weWouldLikeOurHomeToBe = {};
            arr.pop(familyoptId);
            weWouldLikeOurHomeToBe['optionId'] = Optionid;
            weWouldLikeOurHomeToBe['quesAnsId'] = quesOptionid;
            weWouldLikeOurHomeToBe['quesName'] = quesName;
            weWouldLikeOurHomeToBe['optionType'] = 2;
            weWouldLikeOurHomeToBe['selectionStatus'] = 1;
            weWouldLikeOurHomeToBe['userOptionDesc'] = "";
            ourhomearr.pop(weWouldLikeOurHomeToBe);
        } else {
            $("#"+familyoptId).css("border","2px solid black");
            $("#idIcon"+familyoptId).css("display", "block");
            var weWouldLikeOurHomeToBe = {};
            arr.push(familyoptId);
            weWouldLikeOurHomeToBe['optionId'] = Optionid;
            weWouldLikeOurHomeToBe['optionType'] = 2;
            weWouldLikeOurHomeToBe['quesAnsId'] = quesOptionid;
            weWouldLikeOurHomeToBe['selectionStatus'] = 1;
            weWouldLikeOurHomeToBe['userOptionDesc'] = "";
            ourhomearr.push(weWouldLikeOurHomeToBe);
        }

        console.log("+++++++++++++Tushar+++++++++++++++++");
        console.log(ourhomearr);
        console.log("+++++++++++++++++++++++++++++++++++++++++");

         filter.set({'selectedArr': ourhomearr});
         filter.trigger('change');
});


var ourweLoveTO = new Array();
var ourweusallyDo = new Array();
$('.multiselectFam').click(function (e) {
    var currentTarget = $(e.currentTarget);
    var familyoptId = currentTarget.attr('id');

    var Optionid = currentTarget.data('element');
    var quesOptionid = currentTarget.data('element1');
    var quesName = currentTarget.data('element2');

        if($.inArray(familyoptId, arr) != '-1') {
            $("#"+familyoptId).css("background-color","");

            var weLoveTO = {};
            var weusallyDo = {};
            arr.pop(familyoptId);
            if(quesName== "We love to"){
                weLoveTO['optionId'] = Optionid;
                weLoveTO['quesAnsId'] = quesOptionid;
                weLoveTO['quesName'] = quesName;
                weLoveTO['optionType'] = 2;
                weLoveTO['selectionStatus'] = 1;
                weLoveTO['userOptionDesc'] = "";
                ourweLoveTO.pop(weLoveTO);
             }
            if(quesName=="We usually do"){

                weusallyDo['optionId'] = Optionid;
                weusallyDo['quesAnsId'] = quesOptionid;
                weusallyDo['quesName'] = quesName;
                weusallyDo['optionType'] = 2;
                weusallyDo['selectionStatus'] = 1;
                weusallyDo['userOptionDesc'] = "";
                ourweusallyDo.pop(weusallyDo);
            }
        } else {
            $("#"+familyoptId).css("background-color","rgba(99,78,66,1)");

            var weLoveTO = {};
            var weusallyDo = {};
            arr.push(familyoptId);
               if(quesName== "We love to"){
                weLoveTO['optionId'] = Optionid;
                weLoveTO['quesAnsId'] = quesOptionid;
                weLoveTO['quesName'] = quesName;
                weLoveTO['optionType'] = 2;
                weLoveTO['selectionStatus'] = 1;
                weLoveTO['userOptionDesc'] = "";
                ourweLoveTO.push(weLoveTO);
             }
            if(quesName=="We usually do"){
                weusallyDo['optionId'] = Optionid;
                weusallyDo['quesAnsId'] = quesOptionid;
                weusallyDo['quesName'] = quesName;
                weusallyDo['optionType'] = 2;
                weusallyDo['selectionStatus'] = 1;
                weusallyDo['userOptionDesc'] = "";
                ourweusallyDo.push(weusallyDo);
            }
        }

        console.log("+++++++++++++Tushar+++++++++++++++++");
        console.log(ourweLoveTO);
        console.log("+++++++++++++++++++++++++++++++++++++++++");
                console.log(ourweusallyDo);


         filter.set({'selectedweLoveTO': ourweLoveTO});
         filter.set({'selectedweusallyDo': ourweusallyDo});
         filter.trigger('change');
});



</script>
